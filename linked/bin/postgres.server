#!/bin/bash

PG_CONF_PATH=/usr/local/var/postgres
PG_BIN=/usr/local/bin/pg_ctl
NAME="postgres service"

start() {
    echo -n $"Starting $NAME: "
    $PG_BIN -D $PG_CONF_PATH -l $PG_CONF_PATH/server.log start
}

stop() {
    echo -n $"Stopping $NAME: "
    $PG_BIN -D $PG_CONF_PATH stop -s -m fast
    echo
}

status() {
    $PG_BIN -D $PG_CONF_PATH status
    echo
}

restart() {
    stop
    start
}

# See how we were called.
case "$1" in
    start)
        start
        ;;
    stop)
        stop
        ;;
    restart)
        restart
        ;;
    status)
        status
        ;;
    *)
    echo $"Usage: $(basename $0) {start|stop|restart|status}"
    exit 1
esac

exit 0

